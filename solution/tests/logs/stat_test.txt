time="2025-02-21T23:42:19+03:00" level=warning msg="/home/ainur/projects/prod-ind/solution/docker-compose.test.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
app-test-1  | 2025/02/21 20:42:19 success
app-test-1  | [Fx] PROVIDE	fx.Lifecycle <= go.uber.org/fx.New.func1()
app-test-1  | [Fx] PROVIDE	fx.Shutdowner <= go.uber.org/fx.(*App).shutdowner-fm()
app-test-1  | [Fx] PROVIDE	fx.DotGraph <= go.uber.org/fx.(*App).dotGraph-fm()
app-test-1  | [Fx] PROVIDE	config.HTTPConfig <= server/internal/config.NewHTTPConfig() from module "http-server"
app-test-1  | [Fx] PROVIDE	*http.Server <= server/internal/transport/http.NewServer() from module "http-server"
app-test-1  | [Fx] PROVIDE	config.PostgresConfig <= server/internal/config.NewPostgresConfig() from module "postgres-client"
app-test-1  | [Fx] PROVIDE	*gorm.DB <= server/pkg/client/postgres.NewPostgresClient() from module "postgres-client"
app-test-1  | [Fx] PROVIDE	config.RedisConfig <= server/internal/config.NewRedisConfig() from module "redis-client"
app-test-1  | [Fx] PROVIDE	*redis.Client <= server/pkg/client/redis.NewRedisClient() from module "redis-client"
app-test-1  | [Fx] PROVIDE	config.YandexGptConfig <= server/internal/config.NewYandexGptConfig() from module "gpt-http"
app-test-1  | [Fx] PROVIDE	gpt.YandexGptClient <= server/pkg/client/yandex-cloud/gpt/http.NewClient() from module "gpt-http"
app-test-1  | [Fx] PROVIDE	config.PerspectiveConfig <= server/internal/config.NewPerspectiveConfig() from module "moderator-http"
app-test-1  | [Fx] PROVIDE	moderator.Moderator <= server/pkg/client/google/moderator/http.NewClient() from module "moderator-http"
app-test-1  | [Fx] PROVIDE	service.AiService <= server/internal/service/ai.NewAiService() from module "ai-service"
app-test-1  | [Fx] PROVIDE	repository.CampaignObjectRepository <= server/internal/repository/campaign_object/mock.NewCampaignObjectRepository() from module "campaign-object-mock-repository"
app-test-1  | [Fx] PROVIDE	repository.ClientRepository <= server/internal/repository/client.NewClientRepository() from module "repository-client"
app-test-1  | [Fx] PROVIDE	service.ClientService <= server/internal/service/client.NewClientService() from module "service-client"
app-test-1  | [Fx] PROVIDE	repository.AdvertiserRepository <= server/internal/repository/advertiser.NewAdvertiserRepository() from module "advertiser-repository"
app-test-1  | [Fx] PROVIDE	service.AdvertiserService <= server/internal/service/advertiser.NewAdvertiserService() from module "advertiser-service"
app-test-1  | [Fx] PROVIDE	repository.CampaignRepository <= server/internal/repository/campaign.NewCampaignRepository() from module "campaign-repository"
app-test-1  | [Fx] PROVIDE	service.CampaignService <= server/internal/service/campaign.NewCampaignService() from module "campaign-service"
app-test-1  | [Fx] PROVIDE	repository.TimeRepository <= server/internal/repository/time.NewTimeRepository() from module "repository-time"
app-test-1  | [Fx] PROVIDE	service.TimeService <= server/internal/service/time.NewTimeService() from module "time-service"
app-test-1  | [Fx] PROVIDE	repository.AdsRepsitory <= server/internal/repository/ads.NewAdsRepository() from module "ads-repository"
app-test-1  | [Fx] PROVIDE	service.AdsService <= server/internal/service/ads.NewAdsService() from module "ads-service"
app-test-1  | [Fx] PROVIDE	repository.StatRepository <= server/internal/repository/stat.NewStatRepository() from module "stat-repository"
app-test-1  | [Fx] PROVIDE	service.StatService <= server/internal/service/stat.NewStatService() from module "stat-service"
app-test-1  | [Fx] INVOKE		server/internal/transport/http.NewModule.func1() from module "http-server"
app-test-1  | [Fx] RUN	provide: go.uber.org/fx.New.func1() in 6.144Âµs
app-test-1  | POSTGRES_DSN: postgres://postgres:postgres@postgres-test:5432/postgres?sslmode=disable
app-test-1  | [Fx] RUN	provide: server/internal/config.NewHTTPConfig() in 6.364Âµs from module "http-server"
app-test-1  | [Fx] RUN	provide: server/internal/config.NewPostgresConfig() in 9.765Âµs from module "postgres-client"
app-test-1  | [Fx] RUN	provide: server/pkg/client/postgres.NewPostgresClient() in 4.493018ms from module "postgres-client"
app-test-1  | [Fx] RUN	provide: server/internal/repository/client.NewClientRepository() in 5.992Âµs from module "repository-client"
app-test-1  | [Fx] RUN	provide: server/internal/service/client.NewClientService() in 9.695Âµs from module "service-client"
app-test-1  | [Fx] RUN	provide: server/internal/repository/advertiser.NewAdvertiserRepository() in 9.067Âµs from module "advertiser-repository"
app-test-1  | [Fx] RUN	provide: server/internal/config.NewYandexGptConfig() in 24.487Âµs from module "gpt-http"
app-test-1  | [Fx] RUN	provide: server/pkg/client/yandex-cloud/gpt/http.NewClient() in 5.38Âµs from module "gpt-http"
app-test-1  | [Fx] RUN	provide: server/internal/config.NewPerspectiveConfig() in 5.815Âµs from module "moderator-http"
app-test-1  | [Fx] RUN	provide: server/pkg/client/google/moderator/http.NewClient() in 8.894Âµs from module "moderator-http"
app-test-1  | [Fx] RUN	provide: server/internal/service/ai.NewAiService() in 3.065Âµs from module "ai-service"
app-test-1  | [Fx] RUN	provide: server/internal/service/advertiser.NewAdvertiserService() in 2.419Âµs from module "advertiser-service"
app-test-1  | [Fx] RUN	provide: server/internal/repository/campaign.NewCampaignRepository() in 3.177Âµs from module "campaign-repository"
app-test-1  | [Fx] RUN	provide: server/internal/repository/campaign_object/mock.NewCampaignObjectRepository() in 4.063Âµs from module "campaign-object-mock-repository"
app-test-1  | [Fx] RUN	provide: server/internal/service/campaign.NewCampaignService() in 8.529Âµs from module "campaign-service"
app-test-1  | [Fx] RUN	provide: server/internal/config.NewRedisConfig() in 9.879Âµs from module "redis-client"
app-test-1  | [Fx] RUN	provide: server/pkg/client/redis.NewRedisClient() in 380.304Âµs from module "redis-client"
app-test-1  | [Fx] RUN	provide: server/internal/repository/time.NewTimeRepository() in 4.49Âµs from module "repository-time"
app-test-1  | [Fx] RUN	provide: server/internal/service/time.NewTimeService() in 67.391Âµs from module "time-service"
app-test-1  | [Fx] RUN	provide: server/internal/repository/ads.NewAdsRepository() in 9.525Âµs from module "ads-repository"
app-test-1  | [Fx] RUN	provide: server/internal/service/ads.NewAdsService() in 4.077Âµs from module "ads-service"
app-test-1  | [Fx] RUN	provide: server/internal/repository/stat.NewStatRepository() in 7.629Âµs from module "stat-repository"
app-test-1  | [Fx] RUN	provide: server/internal/service/stat.NewStatService() in 4.39Âµs from module "stat-service"
app-test-1  | [Fx] RUN	provide: server/internal/transport/http.NewServer() in 44.308Âµs from module "http-server"
app-test-1  | [Fx] HOOK OnStart		server/internal/transport/http.NewModule.func1.1() executing (caller: server/internal/transport/http.NewModule.func1)
app-test-1  | 2025-02-21T20:42:19.880Z	[35mDEBUG[0m	starting http server
app-test-1  | [Fx] HOOK OnStart		server/internal/transport/http.NewModule.func1.1() called by server/internal/transport/http.NewModule.func1 ran successfully in 15.816Âµs
app-test-1  | [Fx] RUNNING
app-test-1  | 
app-test-1  |    ____    __
app-test-1  |   / __/___/ /  ___
app-test-1  |  / _// __/ _ \/ _ \
app-test-1  | /___/\__/_//_/\___/ v4.13.3
app-test-1  | High performance, minimalist Go web framework
app-test-1  | https://echo.labstack.com
app-test-1  | ____________________________________O/_______
app-test-1  |                                     O\
app-test-1  | â‡¨ http server started on [::]:8081
app-test-1  | 
app-test-1  | 2025/02/21 20:42:25 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.142ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('4cb636d3-31da-45c6-8489-9de3c47899a9','88f6b9b5-4c39-463e-a754-f2d8d889137e',45.96,0)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:25 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.111ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('d6cde3f2-945c-4015-8c20-f79f9d9ac929','ac327e7f-a46f-4a57-b537-0afd0fcd7f73',43.36,0)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:25 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.105ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('1dddd022-7a11-418b-8126-6cc7209cd7c1','2a01825a-c0b1-4b67-8469-57f5cc8e9a43',38.83,0)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:25 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.109ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('1dddd022-7a11-418b-8126-6cc7209cd7c1','a88073f2-c83e-462e-94ce-67d84063c529',38.83,0)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:25 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.107ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('31989491-4715-42e6-a0d5-1266727146f4','01967c54-b7de-45c0-8e9a-4bfae37c64f5',48.32,0)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:25 [31;1m/app/internal/repository/ads/click.go:40 [35;1mERROR: duplicate key value violates unique constraint "clicks_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.118ms] [34;1m[rows:0][0m INSERT INTO "clicks" ("campaign_id","client_id","cost","date") VALUES ('31989491-4715-42e6-a0d5-1266727146f4','01967c54-b7de-45c0-8e9a-4bfae37c64f5',72.83,0)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:25 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.103ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('1a7866a9-5991-4c38-b8a1-d7ad0da5be68','ac327e7f-a46f-4a57-b537-0afd0fcd7f73',40.48,0)
app-test-1  | [Fx] TERMINATED
app-test-1  | [Fx] HOOK OnStop		server/internal/transport/http.NewModule.func1.2() executing (caller: server/internal/transport/http.NewModule.func1)
app-test-1  | 2025/02/21 20:42:25 http: Server closed
[Kapp-test-1 exited with code 0
app-test-1  | no changes
app-test-1  | [Fx] PROVIDE	fx.Lifecycle <= go.uber.org/fx.New.func1()
app-test-1  | [Fx] PROVIDE	fx.Shutdowner <= go.uber.org/fx.(*App).shutdowner-fm()
app-test-1  | [Fx] PROVIDE	fx.DotGraph <= go.uber.org/fx.(*App).dotGraph-fm()
app-test-1  | [Fx] PROVIDE	config.HTTPConfig <= server/internal/config.NewHTTPConfig() from module "http-server"
app-test-1  | [Fx] PROVIDE	*http.Server <= server/internal/transport/http.NewServer() from module "http-server"
app-test-1  | [Fx] PROVIDE	config.PostgresConfig <= server/internal/config.NewPostgresConfig() from module "postgres-client"
app-test-1  | [Fx] PROVIDE	*gorm.DB <= server/pkg/client/postgres.NewPostgresClient() from module "postgres-client"
app-test-1  | [Fx] PROVIDE	config.RedisConfig <= server/internal/config.NewRedisConfig() from module "redis-client"
app-test-1  | [Fx] PROVIDE	*redis.Client <= server/pkg/client/redis.NewRedisClient() from module "redis-client"
app-test-1  | [Fx] PROVIDE	config.YandexGptConfig <= server/internal/config.NewYandexGptConfig() from module "gpt-http"
app-test-1  | [Fx] PROVIDE	gpt.YandexGptClient <= server/pkg/client/yandex-cloud/gpt/http.NewClient() from module "gpt-http"
app-test-1  | [Fx] PROVIDE	config.PerspectiveConfig <= server/internal/config.NewPerspectiveConfig() from module "moderator-http"
app-test-1  | [Fx] PROVIDE	moderator.Moderator <= server/pkg/client/google/moderator/http.NewClient() from module "moderator-http"
app-test-1  | [Fx] PROVIDE	service.AiService <= server/internal/service/ai.NewAiService() from module "ai-service"
app-test-1  | [Fx] PROVIDE	repository.CampaignObjectRepository <= server/internal/repository/campaign_object/mock.NewCampaignObjectRepository() from module "campaign-object-mock-repository"
app-test-1  | [Fx] PROVIDE	repository.ClientRepository <= server/internal/repository/client.NewClientRepository() from module "repository-client"
app-test-1  | [Fx] PROVIDE	service.ClientService <= server/internal/service/client.NewClientService() from module "service-client"
app-test-1  | [Fx] PROVIDE	repository.AdvertiserRepository <= server/internal/repository/advertiser.NewAdvertiserRepository() from module "advertiser-repository"
app-test-1  | [Fx] PROVIDE	service.AdvertiserService <= server/internal/service/advertiser.NewAdvertiserService() from module "advertiser-service"
app-test-1  | [Fx] PROVIDE	repository.CampaignRepository <= server/internal/repository/campaign.NewCampaignRepository() from module "campaign-repository"
app-test-1  | [Fx] PROVIDE	service.CampaignService <= server/internal/service/campaign.NewCampaignService() from module "campaign-service"
app-test-1  | [Fx] PROVIDE	repository.TimeRepository <= server/internal/repository/time.NewTimeRepository() from module "repository-time"
app-test-1  | [Fx] PROVIDE	service.TimeService <= server/internal/service/time.NewTimeService() from module "time-service"
app-test-1  | [Fx] PROVIDE	repository.AdsRepsitory <= server/internal/repository/ads.NewAdsRepository() from module "ads-repository"
app-test-1  | [Fx] PROVIDE	service.AdsService <= server/internal/service/ads.NewAdsService() from module "ads-service"
app-test-1  | [Fx] PROVIDE	repository.StatRepository <= server/internal/repository/stat.NewStatRepository() from module "stat-repository"
app-test-1  | [Fx] PROVIDE	service.StatService <= server/internal/service/stat.NewStatService() from module "stat-service"
app-test-1  | [Fx] INVOKE		server/internal/transport/http.NewModule.func1() from module "http-server"
app-test-1  | [Fx] RUN	provide: go.uber.org/fx.New.func1() in 6.962Âµs
app-test-1  | [Fx] RUN	provide: server/internal/config.NewHTTPConfig() in 8.855Âµs from module "http-server"
app-test-1  | POSTGRES_DSN: postgres://postgres:postgres@postgres-test:5432/postgres?sslmode=disable
app-test-1  | [Fx] RUN	provide: server/internal/config.NewPostgresConfig() in 9.993Âµs from module "postgres-client"
app-test-1  | [Fx] RUN	provide: server/pkg/client/postgres.NewPostgresClient() in 4.523356ms from module "postgres-client"
app-test-1  | [Fx] RUN	provide: server/internal/repository/client.NewClientRepository() in 13.123Âµs from module "repository-client"
app-test-1  | [Fx] RUN	provide: server/internal/service/client.NewClientService() in 9.729Âµs from module "service-client"
app-test-1  | [Fx] RUN	provide: server/internal/repository/advertiser.NewAdvertiserRepository() in 3.698Âµs from module "advertiser-repository"
app-test-1  | [Fx] RUN	provide: server/internal/config.NewYandexGptConfig() in 35.658Âµs from module "gpt-http"
app-test-1  | [Fx] RUN	provide: server/pkg/client/yandex-cloud/gpt/http.NewClient() in 13.341Âµs from module "gpt-http"
app-test-1  | [Fx] RUN	provide: server/internal/config.NewPerspectiveConfig() in 10.983Âµs from module "moderator-http"
app-test-1  | [Fx] RUN	provide: server/pkg/client/google/moderator/http.NewClient() in 4.543Âµs from module "moderator-http"
app-test-1  | [Fx] RUN	provide: server/internal/service/ai.NewAiService() in 4.765Âµs from module "ai-service"
app-test-1  | [Fx] RUN	provide: server/internal/service/advertiser.NewAdvertiserService() in 3.854Âµs from module "advertiser-service"
app-test-1  | [Fx] RUN	provide: server/internal/repository/campaign.NewCampaignRepository() in 5.164Âµs from module "campaign-repository"
app-test-1  | [Fx] RUN	provide: server/internal/repository/campaign_object/mock.NewCampaignObjectRepository() in 7.25Âµs from module "campaign-object-mock-repository"
app-test-1  | [Fx] RUN	provide: server/internal/service/campaign.NewCampaignService() in 9.985Âµs from module "campaign-service"
app-test-1  | [Fx] RUN	provide: server/internal/config.NewRedisConfig() in 16.318Âµs from module "redis-client"
app-test-1  | [Fx] RUN	provide: server/pkg/client/redis.NewRedisClient() in 713.839Âµs from module "redis-client"
app-test-1  | [Fx] RUN	provide: server/internal/repository/time.NewTimeRepository() in 14.1Âµs from module "repository-time"
app-test-1  | [Fx] RUN	provide: server/internal/service/time.NewTimeService() in 54.717Âµs from module "time-service"
app-test-1  | [Fx] RUN	provide: server/internal/repository/ads.NewAdsRepository() in 5.685Âµs from module "ads-repository"
app-test-1  | [Fx] RUN	provide: server/internal/service/ads.NewAdsService() in 5.201Âµs from module "ads-service"
app-test-1  | [Fx] RUN	provide: server/internal/repository/stat.NewStatRepository() in 4.591Âµs from module "stat-repository"
app-test-1  | [Fx] RUN	provide: server/internal/service/stat.NewStatService() in 8.18Âµs from module "stat-service"
app-test-1  | [Fx] RUN	provide: server/internal/transport/http.NewServer() in 45.03Âµs from module "http-server"
app-test-1  | 2025-02-21T20:42:25.640Z	[35mDEBUG[0m	starting http server
app-test-1  | [Fx] HOOK OnStart		server/internal/transport/http.NewModule.func1.1() executing (caller: server/internal/transport/http.NewModule.func1)
app-test-1  | [Fx] HOOK OnStart		server/internal/transport/http.NewModule.func1.1() called by server/internal/transport/http.NewModule.func1 ran successfully in 26.587Âµs
app-test-1  | [Fx] RUNNING
app-test-1  | 
app-test-1  |    ____    __
app-test-1  |   / __/___/ /  ___
app-test-1  |  / _// __/ _ \/ _ \
app-test-1  | /___/\__/_//_/\___/ v4.13.3
app-test-1  | High performance, minimalist Go web framework
app-test-1  | https://echo.labstack.com
app-test-1  | ____________________________________O/_______
app-test-1  |                                     O\
app-test-1  | â‡¨ http server started on [::]:8081
app-test-1  | {3 3 100 131.59 205.69 337.28}
app-test-1  | {3 2 66.66666666666666 136.68 125.32 262}
app-test-1  | {3 2 66.66666666666666 104.54 150.98000000000002 255.52000000000004}
app-test-1  | {4 2 50 138.52 148.6 287.12}
app-test-1  | {4 2 50 136.96 151.26 288.22}
app-test-1  | {4 2 50 174.56 151.22 325.78}
app-test-1  | {0 0 0 0 0 0}
app-test-1  | {4 4 100 187.44 313.72 501.16}
app-test-1  | {2 1 50 71.13 77.82 148.95}
app-test-1  | {4 2 50 125.88 157.2 283.08}
app-test-1  | {6 5 83.33333333333334 290.72 360.90999999999997 651.63}
app-test-1  | {0 0 0 0 0 0}
app-test-1  | {2 1 50 76.66 66 142.66}
app-test-1  | {2 1 50 75.96 71.19 147.14999999999998}
app-test-1  | {3 0 0 116.64000000000001 0 116.64000000000001}
app-test-1  | {5 3 60 238.06 207.51 445.57}
app-test-1  | {4 2 50 191.98 147.94 339.91999999999996}
app-test-1  | {2 2 100 88.3 120.26 208.56}
app-test-1  | {5 3 60 172.1 227.32999999999998 399.42999999999995}
app-test-1  | {4 1 25 174.68 70.73 245.41000000000003}
app-test-1  | {1 1 100 30.6 69.54 100.14000000000001}
app-test-1  | {4 3 75 155.32 237.75 393.07}
app-test-1  | {4 1 25 148.44 73.47 221.91}
app-test-1  | {2 2 100 93.54 121.38 214.92000000000002}
app-test-1  | {7 2 28.57142857142857 307.57000000000005 147.28 454.85}
app-test-1  | {1 1 100 31.75 72.1 103.85}
app-test-1  | {3 2 66.66666666666666 124.6 136.19 260.78999999999996}
app-test-1  | {1 1 100 30.72 71.46 102.17999999999999}
app-test-1  | {0 0 0 0 0 0}
app-test-1  | {7 2 28.57142857142857 313.83 148.64 462.46999999999997}
app-test-1  | 2025-02-21T20:42:30.643Z	[34mINFO[0m	Time was set	{"day": 5}
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.139ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('b2d354bf-429f-4173-9ee3-dd3f6cfe6e53','0b1c3334-b0ab-45e6-bd51-8ee4bbcd7aa5',45.09,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.108ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('c5846373-1476-4ab5-861b-137f60b7c98d','c1ab66d2-e57f-41be-ac4a-156087b88771',33.88,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.113ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('fbed8063-bb75-4af6-85a4-1c91c6d27068','bdc29715-9945-4457-9c33-9d06eb5cf3aa',35.55,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.106ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('fbed8063-bb75-4af6-85a4-1c91c6d27068','7f9c8e86-441c-4a29-85b7-7117298cb377',35.55,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.099ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('31989491-4715-42e6-a0d5-1266727146f4','3961217e-8cc0-46d3-af3f-1be4b9180987',42.04,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.123ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('6956217e-da56-4fa2-b105-94f566744e53','7f9c8e86-441c-4a29-85b7-7117298cb377',43.74,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/click.go:40 [35;1mERROR: duplicate key value violates unique constraint "clicks_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.106ms] [34;1m[rows:0][0m INSERT INTO "clicks" ("campaign_id","client_id","cost","date") VALUES ('6956217e-da56-4fa2-b105-94f566744e53','7f9c8e86-441c-4a29-85b7-7117298cb377',67.93,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.093ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('6956217e-da56-4fa2-b105-94f566744e53','c097528e-3d32-4010-a34f-72c675d24171',43.74,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.103ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('fbed8063-bb75-4af6-85a4-1c91c6d27068','3262f878-e555-49a0-b882-fc8ebba2ac8e',35.55,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/click.go:40 [35;1mERROR: duplicate key value violates unique constraint "clicks_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.095ms] [34;1m[rows:0][0m INSERT INTO "clicks" ("campaign_id","client_id","cost","date") VALUES ('fbed8063-bb75-4af6-85a4-1c91c6d27068','3262f878-e555-49a0-b882-fc8ebba2ac8e',72.18,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.104ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('4dec3be4-32cc-4e9f-b621-6d05ad5481b1','701b7984-ff9d-4292-826e-b0df603d4855',30.48,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/click.go:40 [35;1mERROR: duplicate key value violates unique constraint "clicks_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.098ms] [34;1m[rows:0][0m INSERT INTO "clicks" ("campaign_id","client_id","cost","date") VALUES ('4dec3be4-32cc-4e9f-b621-6d05ad5481b1','701b7984-ff9d-4292-826e-b0df603d4855',69.39,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.092ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('17e3ca3b-f510-4364-9610-c6c6d8e7e393','3961217e-8cc0-46d3-af3f-1be4b9180987',40.35,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.112ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('050f5cdc-8a3b-43ca-9c6e-481f9850d47e','719f4046-241e-46bf-b49c-8c7f29633dde',30.49,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.105ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('ccffd73f-5c07-4df4-9581-28c923f6d1b6','01967c54-b7de-45c0-8e9a-4bfae37c64f5',49.44,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.115ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('ccffd73f-5c07-4df4-9581-28c923f6d1b6','3262f878-e555-49a0-b882-fc8ebba2ac8e',41.43,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.132ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('a93c82d7-d0a5-4a60-b507-f66fe6954bf9','c2ace6ca-0a26-41fb-88ad-2c30fac17454',31.59,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.118ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('a93c82d7-d0a5-4a60-b507-f66fe6954bf9','0b1c3334-b0ab-45e6-bd51-8ee4bbcd7aa5',31.59,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/click.go:40 [35;1mERROR: duplicate key value violates unique constraint "clicks_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.122ms] [34;1m[rows:0][0m INSERT INTO "clicks" ("campaign_id","client_id","cost","date") VALUES ('a93c82d7-d0a5-4a60-b507-f66fe6954bf9','0b1c3334-b0ab-45e6-bd51-8ee4bbcd7aa5',70.78,5)
app-test-1  | 
app-test-1  | 2025/02/21 20:42:30 [31;1m/app/internal/repository/ads/impression.go:84 [35;1mERROR: duplicate key value violates unique constraint "impressions_campaign_id_client_id_key" (SQLSTATE 23505)
app-test-1  | [0m[33m[0.104ms] [34;1m[rows:0][0m INSERT INTO "impressions" ("campaign_id","client_id","cost","date") VALUES ('a93c82d7-d0a5-4a60-b507-f66fe6954bf9','b05adeef-5477-4edb-a98d-45ef0a04cc9f',31.59,5)
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 5
app-test-1  | 2025-02-21T20:42:30.850Z	[34mINFO[0m	Time was set	{"day": 5}
app-test-1  | 2025-02-21T20:42:30.857Z	[34mINFO[0m	Time was set	{"day": 0}
app-test-1  | {0 0 0 0 0 0}
app-test-1  | 0
app-test-1  | [Fx] TERMINATED
app-test-1  | [Fx] HOOK OnStop		server/internal/transport/http.NewModule.func1.2() executing (caller: server/internal/transport/http.NewModule.func1)
app-test-1  | 2025/02/21 20:42:30 http: Server closed
